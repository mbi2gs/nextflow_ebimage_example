Nov-02 21:16:47.137 [main] DEBUG nextflow.cli.Launcher - $> /bin/nextflow run main.nf
Nov-02 21:16:47.319 [main] INFO  nextflow.cli.CmdRun - N E X T F L O W  ~  version 0.30.1
Nov-02 21:16:47.333 [main] INFO  nextflow.cli.CmdRun - Launching `main.nf` [zen_gilbert] - revision: df725f85b6
Nov-02 21:16:47.356 [main] DEBUG nextflow.config.ConfigBuilder - Found config local: nextflow.config
Nov-02 21:16:47.359 [main] DEBUG nextflow.config.ConfigBuilder - Parsing config file: /home/mbbiggs/nextflow_ebimage_example/nextflow.config
Nov-02 21:16:47.399 [main] DEBUG nextflow.config.ConfigBuilder - Applying config profile: `standard`
Nov-02 21:16:47.860 [main] DEBUG nextflow.Session - Session uuid: ab142c7c-c996-4727-8794-1e2884b2ce31
Nov-02 21:16:47.860 [main] DEBUG nextflow.Session - Run name: zen_gilbert
Nov-02 21:16:47.861 [main] DEBUG nextflow.Session - Executor pool size: 8
Nov-02 21:16:47.877 [main] DEBUG nextflow.cli.CmdRun - 
  Version: 0.30.1 build 4844
  Modified: 11-06-2018 08:29 UTC (04:29 EDT)
  System: Linux 4.4.0-75-generic
  Runtime: Groovy 2.4.15 on Java HotSpot(TM) 64-Bit Server VM 1.8.0_171-b11
  Encoding: UTF-8 (UTF-8)
  Process: 11025@bc01-n12.isis.unc.edu [152.19.196.223]
  CPUs: 8 - Mem: 31.4 GB (23.8 GB) - Swap: 16 GB (16 GB)
Nov-02 21:16:47.909 [main] DEBUG nextflow.Session - Work-dir: /home/mbbiggs/nextflow_ebimage_example/work [ext2/ext3]
Nov-02 21:16:48.097 [main] DEBUG nextflow.Session - Session start invoked
Nov-02 21:16:48.102 [main] DEBUG nextflow.processor.TaskDispatcher - Dispatcher > start
Nov-02 21:16:48.103 [main] DEBUG nextflow.script.ScriptRunner - > Script parsing
Nov-02 21:16:48.250 [main] DEBUG nextflow.script.ScriptRunner - > Launching execution
Nov-02 21:16:48.273 [main] DEBUG nextflow.Channel - files for syntax: glob; folder: data/; pattern: Dros_*; options: null
Nov-02 21:16:48.528 [main] DEBUG nextflow.processor.ProcessFactory - << taskConfig executor: null
Nov-02 21:16:48.528 [main] DEBUG nextflow.processor.ProcessFactory - >> processorType: 'local'
Nov-02 21:16:48.537 [main] DEBUG nextflow.executor.Executor - Initializing executor: local
Nov-02 21:16:48.541 [main] INFO  nextflow.executor.Executor - [warm up] executor > local
Nov-02 21:16:48.547 [main] DEBUG n.processor.LocalPollingMonitor - Creating local task monitor for executor 'local' > cpus=8; memory=31.4 GB; capacity=8; pollInterval=100ms; dumpInterval=5m
Nov-02 21:16:48.553 [main] DEBUG nextflow.processor.TaskDispatcher - Starting monitor: LocalPollingMonitor
Nov-02 21:16:48.555 [main] DEBUG n.processor.TaskPollingMonitor - >>> barrier register (monitor: local)
Nov-02 21:16:48.560 [main] DEBUG nextflow.executor.Executor - Invoke register for executor: local
Nov-02 21:16:48.613 [main] DEBUG nextflow.Session - >>> barrier register (process: count_nuclei)
Nov-02 21:16:48.617 [main] DEBUG nextflow.processor.TaskProcessor - Creating operator > count_nuclei -- maxForks: 8
Nov-02 21:16:48.861 [main] DEBUG nextflow.script.ScriptRunner - > Await termination 
Nov-02 21:16:48.861 [main] DEBUG nextflow.Session - Session await
Nov-02 21:16:49.102 [Task submitter] DEBUG nextflow.executor.LocalTaskHandler - Launch cmd line: /bin/bash -ue .command.run
Nov-02 21:16:49.110 [Task submitter] INFO  nextflow.Session - [75/ee4592] Submitted process > count_nuclei (4)
Nov-02 21:16:49.137 [Task submitter] DEBUG nextflow.executor.LocalTaskHandler - Launch cmd line: /bin/bash -ue .command.run
Nov-02 21:16:49.138 [Task submitter] INFO  nextflow.Session - [f0/b1a096] Submitted process > count_nuclei (2)
Nov-02 21:16:49.147 [Task submitter] DEBUG nextflow.executor.LocalTaskHandler - Launch cmd line: /bin/bash -ue .command.run
Nov-02 21:16:49.147 [Task submitter] INFO  nextflow.Session - [10/472333] Submitted process > count_nuclei (1)
Nov-02 21:16:49.156 [Task submitter] DEBUG nextflow.executor.LocalTaskHandler - Launch cmd line: /bin/bash -ue .command.run
Nov-02 21:16:49.156 [Task submitter] INFO  nextflow.Session - [68/16a38c] Submitted process > count_nuclei (3)
Nov-02 21:16:50.175 [Task monitor] DEBUG n.processor.TaskPollingMonitor - Task completed > TaskHandler[id: 2; name: count_nuclei (4); status: COMPLETED; exit: 1; error: -; workDir: /home/mbbiggs/nextflow_ebimage_example/work/75/ee45929d408e7d4507735e63be2f0e]
Nov-02 21:16:50.216 [Task monitor] ERROR nextflow.processor.TaskProcessor - Error executing process > 'count_nuclei (4)'

Caused by:
  Process `count_nuclei (4)` terminated with an error exit status (1)

Command executed:

  Rscript /home/mbbiggs/nextflow_ebimage_example/bin/ia.R Dros_c2.tif > out.csv

Command exit status:
  1

Command output:
  (empty)

Command error:
  Error in library(EBImage) : there is no package called ‘EBImage’
  Execution halted

Work dir:
  /home/mbbiggs/nextflow_ebimage_example/work/75/ee45929d408e7d4507735e63be2f0e

Tip: you can replicate the issue by changing to the process work dir and entering the command `bash .command.run`
Nov-02 21:16:50.226 [Task monitor] DEBUG nextflow.Session - Session aborted -- Cause: Process `count_nuclei (4)` terminated with an error exit status (1)
Nov-02 21:16:50.256 [main] DEBUG nextflow.Session - Session await > all process finished
Nov-02 21:16:50.256 [main] DEBUG nextflow.Session - Session await > all barriers passed
Nov-02 21:16:50.258 [Task monitor] DEBUG n.processor.TaskPollingMonitor - Task completed > TaskHandler[id: 3; name: count_nuclei (2); status: COMPLETED; exit: 1; error: -; workDir: /home/mbbiggs/nextflow_ebimage_example/work/f0/b1a096ff08e5e104031ad2465904d9]
Nov-02 21:16:50.262 [Task monitor] DEBUG n.processor.TaskPollingMonitor - Task completed > TaskHandler[id: 4; name: count_nuclei (1); status: COMPLETED; exit: 1; error: -; workDir: /home/mbbiggs/nextflow_ebimage_example/work/10/472333f0cb9d9eef03f1d2fb40291c]
Nov-02 21:16:50.267 [Task monitor] DEBUG n.processor.TaskPollingMonitor - Task completed > TaskHandler[id: 1; name: count_nuclei (3); status: COMPLETED; exit: 1; error: -; workDir: /home/mbbiggs/nextflow_ebimage_example/work/68/16a38c300898d505b2d3b95530898c]
Nov-02 21:16:50.270 [Task monitor] DEBUG n.processor.TaskPollingMonitor - <<< barrier arrives (monitor: local)
Nov-02 21:16:50.272 [Actor Thread 7] DEBUG nextflow.Session - <<< barrier arrive (process: count_nuclei)
Nov-02 21:16:50.278 [main] DEBUG nextflow.trace.StatsObserver - Workflow completed > WorkflowStats[succeedCount=0; failedCount=4; ignoredCount=0; cachedCount=0; succeedDuration=0ms; failedDuration=4.1s; cachedDuration=0ms]
Nov-02 21:16:50.329 [main] DEBUG nextflow.CacheDB - Closing CacheDB done
Nov-02 21:16:50.335 [main] DEBUG nextflow.script.ScriptRunner - > Execution complete -- Goodbye
